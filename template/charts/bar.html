{% extends base.html %}

{% block title %}
直方图
{% end %}

{% block navbar %}
<li><a href="/charts/heat">热力图</a></li>
<li class="active"><a href="#">柱状图</a></li>
<li><a href="/charts/line">折线图</a></li>
{% end %}


{% block main %}
<div class="container" style="width: 100%;height:1000px;">
    <p class="summary"></p>
    <span><strong>群号码</strong></span>
    <label>
        <select>

            {% for group in group_id %}
            <option value={{ group }}>{{ group }}</option>
            {% end %}
        </select>
    </label>
    <label for="meeting">日期:</label>
    <input id="meeting" type="date" value=now>
    <br>


    <div id="bar" style="width: 90%;height:55%;display: block"></div>
    <br>
    <br>
    <div id="stack_bar" style="width: 90%;height:55%;display: block"></div>

</div>
{% end %}


{% block script %}
<script src="{{ static_url('js/charts/bar.js') }}"></script>
<script>

    Date.prototype.Format = function (fmt) {
        var o = {
            "M+": this.getMonth() + 1, //月份
            "d+": this.getDate(), //日
            "H+": this.getHours(), //小时
            "m+": this.getMinutes(), //分
            "s+": this.getSeconds(), //秒
            "q+": Math.floor((this.getMonth() + 3) / 3), //季度
            "S": this.getMilliseconds() //毫秒
        };
        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    };
    var date1 = new Date().Format("yyyy-MM-dd");
    $('#meeting').attr('value', date1);
</script>
{% end %}

